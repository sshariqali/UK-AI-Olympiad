define("discourse/plugins/discourse-adplugin/discourse/components/ad-component",["exports","@ember/component","@ember/object/computed","@ember/service","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/decorators","discourse/plugins/discourse-adplugin/discourse/helpers/slot-position"],function(e,t,s,o,i,a,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class d extends t.default{static{dt7948.g(this.prototype,"router",[o.service])}#e=void dt7948.i(this,"router")
static{dt7948.g(this.prototype,"session",[o.service])}#t=void dt7948.i(this,"session")
static{dt7948.g(this.prototype,"currentCategoryId",[(0,s.or)("router.currentRoute.attributes.category.id","router.currentRoute.parent.attributes.category_id")])}#s=void dt7948.i(this,"currentCategoryId")
static{dt7948.g(this.prototype,"currentCategorySlug",[(0,s.or)("router.currentRoute.attributes.category.slug","router.currentRoute.parent.attributes.category.slug")])}#o=void dt7948.i(this,"currentCategorySlug")
static{dt7948.g(this.prototype,"topicTagsDisableAds",[(0,s.alias)("router.currentRoute.parent.attributes.tags_disable_ads")])}#i=void dt7948.i(this,"topicTagsDisableAds")
static{dt7948.g(this.prototype,"isRestrictedCategory",[(0,s.or)("router.currentRoute.attributes.category.read_restricted","router.currentRoute.parent.attributes.category.read_restricted")])}#a=void dt7948.i(this,"isRestrictedCategory")
static{dt7948.g(this.prototype,"currentRouteName",[(0,s.alias)("router.currentRoute.name")])}#r=void dt7948.i(this,"currentRouteName")
_impressionId=null
_clickTracked=!1
_handleAdClick=()=>{this.trackClick()}
topicListTag(e,t){if("tag"===e&&t)return t}static{dt7948.n(this.prototype,"topicListTag",[(0,r.default)("router.currentRoute.attributes.__type","router.currentRoute.attributes.id")])}isPersonalMessage(e){return"private_message"===e}static{dt7948.n(this.prototype,"isPersonalMessage",[(0,r.default)("router.currentRoute.parent.attributes.archetype")])}showToGroups(){return!this.currentUser||this.currentUser.show_to_groups}static{dt7948.n(this.prototype,"showToGroups",[r.default])}showOnCurrentPage(e,t,s,o,i){return!(t||e&&this.siteSettings.no_ads_for_categories&&this.siteSettings.no_ads_for_categories.split("|").includes(e.toString())||s&&this.siteSettings.no_ads_for_tags&&this.siteSettings.no_ads_for_tags.split("|").includes(s)||o&&this.siteSettings.no_ads_for_personal_messages||i&&this.siteSettings.no_ads_for_restricted_categories)}static{dt7948.n(this.prototype,"showOnCurrentPage",[(0,r.default)("currentCategoryId","topicTagsDisableAds","topicListTag","isPersonalMessage","isRestrictedCategory")])}isNthPost(e){return(0,n.isNthPost)(e,this.get("postNumber"))}isNthTopicListItem(e){return(0,n.isNthTopicListItem)(e,this.get("indexNumber"))}didInsertElement(){super.didInsertElement?.(...arguments),this.get("showAd")&&(this.startVisibilityTracking(),this.startClickTracking())}startClickTracking(){this.siteSettings.ad_plugin_enable_tracking&&this.element.addEventListener("click",this._handleAdClick)}async trackImpression(){const e=this.buildImpressionPayload?.()
if(e)try{const t=await(0,i.ajax)("/ad_plugin/ad_impressions",{type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8"})
this._impressionId=t.id}catch(t){(0,a.throwAjaxError)(t)}}trackClick(){if(!this._impressionId||this._clickTracked)return
this._clickTracked=!0
const e=`/ad_plugin/ad_impressions/${this._impressionId}`
if(navigator.sendBeacon&&!this.site?.isTesting){const t=new FormData
t.append("authenticity_token",this.session.csrfToken),navigator.sendBeacon(e,t)}else(0,i.ajax)(e,{type:"PATCH",contentType:"application/json; charset=utf-8"}).catch(e=>{console.error("Failed to track ad click:",e)})}startVisibilityTracking(){this.siteSettings.ad_plugin_enable_tracking&&("IntersectionObserver"in window?(this._observer=new IntersectionObserver(e=>{e[0].isIntersecting&&(this.trackImpression(),this._observer.disconnect())}),this._observer.observe(this.element)):this.trackImpression())}willDestroyElement(){super.willDestroyElement?.(...arguments),this._observer&&this._observer.disconnect(),this.element&&this.element.removeEventListener("click",this._handleAdClick)}}e.default=d}),define("discourse/plugins/discourse-adplugin/discourse/components/ad-slot",["exports","@ember/helper","@ember/object","@ember/service","@ember/utils","@ember-decorators/component","discourse/lib/decorators","discourse/plugins/discourse-adplugin/discourse/helpers/slot-position","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse/plugins/discourse-adplugin/discourse/components/adbutler-ad","discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links","discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad","discourse/plugins/discourse-adplugin/discourse/components/google-adsense","discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad","discourse/plugins/discourse-adplugin/discourse/components/house-ad","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d,l,c,u,p,_,g,m,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.slotContenders=w
const b={"house-ad":g.default,"google-adsense":p.default,"google-dfp-ad":_.default,"amazon-product-links":c.default,"carbonads-ad":u.default,"adbutler-ad":l.default},f=s.default.create({"google-adsense":{settingPrefix:"adsense",enabledSetting:"adsense_publisher_code",nthPost:"adsense_nth_post_code"},"google-dfp-ad":{settingPrefix:"dfp",enabledSetting:"dfp_publisher_id",nthPost:"dfp_nth_post_code"},"amazon-product-links":{settingPrefix:"amazon",enabledSetting:!1,nthPost:"amazon_nth_post_code",desktop:{"topic-list-top":"amazon_topic_list_top_src_code","post-bottom":"amazon_post_bottom_src_code","topic-above-post-stream":"amazon_topic_above_post_stream_src_code","topic-above-suggested":"amazon_topic_above_suggested_src_code"},mobile:{"topic-list-top":"amazon_mobile_topic_list_top_src_code","post-bottom":"amazon_mobile_post_bottom_src_code","topic-above-post-stream":"amazon_mobile_topic_above_post_stream_src_code","topic-above-suggested":"amazon_mobile_topic_above_suggested_src_code"}},"carbonads-ad":{settingPrefix:"carbonads",enabledSetting:"carbonads_serve_id",desktop:{"topic-list-top":"carbonads_topic_list_top_enabled","post-bottom":!1,"topic-above-post-stream":"carbonads_above_post_stream_enabled","topic-above-suggested":!1}},"adbutler-ad":{settingPrefix:"adbutler",enabledSetting:"adbutler_publisher_id",desktop:{"topic-list-top":"adbutler_topic_list_top_zone_id","post-bottom":"adbutler_post_bottom_zone_id","topic-above-post-stream":"adbutler_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_topic_above_suggested_zone_id"},mobile:{"topic-list-top":"adbutler_mobile_topic_list_top_zone_id","post-bottom":"adbutler_mobile_post_bottom_zone_id","topic-above-post-stream":"adbutler_mobile_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_mobile_topic_above_suggested_zone_id"}}}),v={houseAds:0,allAds:0}
function w(e,t,s,o,a){let r=[]
const d=e.get("house_creatives"),l=s.replace(/-/g,"_")
if(d&&d.settings){const e=d.settings[l],t=Object.keys(d.creatives).length>0&&!(0,i.isBlank)(e),s=!a&&!o,c="topic_list_between"===l&&(0,n.isNthTopicListItem)(parseInt(d.settings.after_nth_topic,10),o)
t&&(s||c||(0,n.isNthPost)(parseInt(d.settings.after_nth_post,10),a))&&r.push("house-ad")}return Object.keys(f).forEach(o=>{const d=f[o]
let c,u=null;(function(e,t){return!1===t||t&&!(0,i.isBlank)(e[t])})(t,d.enabledSetting)&&function(e,t,s){return!t||!s||(0,n.isNthPost)(parseInt(e[s],10),t)}(t,a,d.nthPost)&&(u=e.mobileView&&d.mobile||d.desktop,u&&(c=u[s]),void 0===c&&(c=`${d.settingPrefix}_${e.mobileView?"mobile_":""}${l}_code`),!1===c||!1===t[c]||(0,i.isBlank)(t[c])||r.push(o))}),r}const y=dt7948.c(class extends d.default{static{dt7948.g(this.prototype,"router",[o.service])}#e=void dt7948.i(this,"router")
availableAdTypes(e,t,s){return w(this.site,this.siteSettings,e,s,t)}static{dt7948.n(this.prototype,"availableAdTypes",[(0,r.default)("placement","postNumber","indexNumber")])}adComponentNames(e,t){if(!t.includes("house-ad")||1===t.length)return t
const s=this.site.get("house_creatives")
let o=!1
if(100===s.settings.house_ads_frequency)return["house-ad"]
if(s.settings.house_ads_frequency>0){if(0===v.allAds||100*v.houseAds/v.allAds<s.settings.house_ads_frequency)return v.houseAds+=1,v.allAds+=1,["house-ad"]
o=!0}const i=t.filter(e=>"house-ad"!==e)
return o&&(v.allAds+=i.length),i}static{dt7948.n(this.prototype,"adComponentNames",[(0,r.default)("placement","availableAdTypes","router.currentRoute")])}get adComponents(){return this.adComponentNames.map(e=>b[e])}static{(0,m.setComponentTemplate)((0,h.createTemplateFactory)({id:"kphw8C+k",block:'[[[42,[28,[31,1],[[28,[31,1],[[30,0,["adComponents"]]],null]],null],null,[[[42,[28,[31,1],[[28,[31,1],[[28,[32,0],[[30,0,["router","currentRoute"]]],null]],null]],null],null,[[[1,"    "],[8,[30,1],null,[["@placement","@category","@postNumber","@indexNumber","@tagName"],[[30,0,["placement"]],[30,0,["category"]],[30,0,["postNumber"]],[30,0,["indexNumber"]],[30,0,["childTagName"]]]],null],[1,"\\n"]],[]],null]],[1]],null]],["Ad"],["each","-track-array"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/ad-slot.js",scope:()=>[t.array],isStrictMode:!0}),this)}},[(0,a.tagName)("")])
e.default=y}),define("discourse/plugins/discourse-adplugin/discourse/components/adbutler-ad",["exports","@ember/runloop","rsvp","discourse/lib/decorators","discourse/lib/environment","discourse/lib/load-script","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=!1,c=null,u=0
class p extends r.default{divs=null
publisherId=null
init(){let e=[728,90],t="adbutler_",s="adbutler-",o="adbutler-ad"
this.set("divs",[]),this.site.mobileView&&(e=[320,50],t+="mobile_",s+="mobile-",o="adbutler-mobile-ad"),t+=this.get("placement").replace(/-/g,"_")+"_zone_id",this.set("configKey",t),s+=this.get("placement"),this.set("className",s+" "+o)
let i=this.siteSettings[t]
this.set("zoneId",i)
let a="placement-"+i+"-"+u
this.set("divId",a)
let r=this.siteSettings.adbutler_publisher_id
this.set("publisherId",r),u++,this.divs.push({divId:a,publisherId:r,zoneId:i,dimensions:e}),super.init()}_triggerAds(){if((0,i.isTesting)())return
const e=this.siteSettings.adbutler_adserver_hostname;(function(e){return l?s.default.resolve():c||(c=(0,a.default)("https://"+e+"/app.js",{scriptTag:!0}).then(function(){l=!0}),c)})(e).then(function(){if(this.divs.length>0){let t=window.abkw||""
window.AdButler.ads.push({handler:function(e){window.AdButler.register(e.place.publisherId,e.place.zoneId,e.place.dimensions,e.place.divId,e)},opt:{place:this.divs.pop(),keywords:t,domain:e,click:"CLICK_MACRO_PLACEHOLDER"}})}}.bind(this))}didInsertElement(){super.didInsertElement(),(0,t.scheduleOnce)("afterRender",this,this._triggerAds)}showAdbutlerAds(){return!this.currentUser||this.currentUser.show_adbutler_ads}static{dt7948.n(this.prototype,"showAdbutlerAds",[o.default])}showAd(e,t,s,o,i){return e&&t&&s&&o&&i}static{dt7948.n(this.prototype,"showAd",[(0,o.default)("publisherId","showAdbutlerAds","showToGroups","showAfterPost","showOnCurrentPage")])}showAfterPost(e){return!e||this.isNthPost(parseInt(this.siteSettings.adbutler_nth_post,10))}static{dt7948.n(this.prototype,"showAfterPost",[(0,o.default)("postNumber")])}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.adbutler,ad_plugin_house_ad_id:null,placement:this.placement}}}static{(0,n.setComponentTemplate)((0,d.createTemplateFactory)({id:"Kz4V35Hi",block:'[[[41,[30,0,["showAd"]],[[[1,"  "],[10,0],[15,1,[30,0,["divId"]]],[15,0,[30,0,["className"]]],[12],[13],[1,"\\n"]],[]],null]],[],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/adbutler-ad.js",isStrictMode:!0}),this)}}e.default=p}),define("discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links",["exports","@ember/object/computed","@ember/template","@ember-decorators/component","discourse/lib/decorators","discourse-i18n","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=dt7948.c(class extends r.default{static{dt7948.g(this.prototype,"showAd",[(0,t.and)("showAmazonAds","showToGroups","showAfterPost","showOnCurrentPage")])}#n=void dt7948.i(this,"showAd")
init(){const e={"topic-list-top":{},"topic-above-post-stream":{},"topic-above-suggested":{},"post-bottom":{}},t=this.site.get("mobileView"),s=this.get("placement")
!t&&this.siteSettings.amazon_topic_list_top_src_code&&(e["topic-list-top"].user_input=this.siteSettings.amazon_topic_list_top_src_code,e["topic-list-top"].amazon_width=parseInt(this.siteSettings.amazon_topic_list_top_ad_width_code,10),e["topic-list-top"].amazon_height=parseInt(this.siteSettings.amazon_topic_list_top_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_list_top_src_code&&(e["topic-list-top"].user_input_mobile=this.siteSettings.amazon_mobile_topic_list_top_src_code,e["topic-list-top"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_width_code,10),e["topic-list-top"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input=this.siteSettings.amazon_topic_above_post_stream_src_code,e["topic-above-post-stream"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_post_stream_src_code,e["topic-above-post-stream"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input=this.siteSettings.amazon_topic_above_suggested_src_code,e["topic-above-suggested"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_suggested_src_code,e["topic-above-suggested"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_height_code,10)),!t&&this.siteSettings.amazon_post_bottom_src_code&&(e["post-bottom"].user_input=this.siteSettings.amazon_post_bottom_src_code,e["post-bottom"].amazon_width=parseInt(this.siteSettings.amazon_post_bottom_ad_width_code,10),e["post-bottom"].amazon_height=parseInt(this.siteSettings.amazon_post_bottom_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_post_bottom_src_code&&(e["post-bottom"].user_input_mobile=this.siteSettings.amazon_mobile_post_bottom_src_code,e["post-bottom"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_width_code,10),e["post-bottom"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_height_code,10)),this.set("user_input",e[s].user_input),this.set("amazon_width",e[s].amazon_width),this.set("amazon_height",e[s].amazon_height),this.set("user_input_mobile",e[s].user_input_mobile),this.set("mobile_amazon_height",e[s].mobile_amazon_height),this.set("mobile_amazon_width",e[s].mobile_amazon_width),super.init()}adWrapperStyle(e,t){return(0,s.htmlSafe)(`width: ${e}px; height: ${t}px;`)}static{dt7948.n(this.prototype,"adWrapperStyle",[(0,i.default)("amazon_width","amazon_height")])}adWrapperStyleMobile(e,t){return(0,s.htmlSafe)(`width: ${e}px; height: ${t}px;`)}static{dt7948.n(this.prototype,"adWrapperStyleMobile",[(0,i.default)("mobile_amazon_width","mobile_amazon_height")])}adTitleStyleMobile(e){return(0,s.htmlSafe)(`width: ${e}px;`)}static{dt7948.n(this.prototype,"adTitleStyleMobile",[(0,i.default)("mobile_amazon_width")])}userInput(e){return(0,s.htmlSafe)(`${e}`)}static{dt7948.n(this.prototype,"userInput",[(0,i.default)("user_input")])}userInputMobile(e){return(0,s.htmlSafe)(`${e}`)}static{dt7948.n(this.prototype,"userInputMobile",[(0,i.default)("user_input_mobile")])}showAmazonAds(){return!this.currentUser||this.currentUser.show_amazon_ads}static{dt7948.n(this.prototype,"showAmazonAds",[i.default])}showAfterPost(e){return!e||this.isNthPost(parseInt(this.siteSettings.amazon_nth_post_code,10))}static{dt7948.n(this.prototype,"showAfterPost",[(0,i.default)("postNumber")])}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.amazon,ad_plugin_house_ad_id:null,placement:this.placement}}}static{(0,n.setComponentTemplate)((0,d.createTemplateFactory)({id:"OWspQcjC",block:'[[[11,0],[24,0,"amazon-product-links"],[17,1],[12],[1,"\\n"],[41,[30,0,["showAd"]],[[[41,[30,0,["site","mobileView"]],[[[1,"      "],[10,0],[14,0,"amazon-product-links-label"],[15,5,[30,0,["adTitleStyleMobile"]]],[12],[10,"h2"],[12],[1,[28,[32,0],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n      "],[10,"iframe"],[15,5,[30,0,["adWrapperStyleMobile"]]],[14,"marginwidth","0"],[14,"marginheight","0"],[14,"scrolling","no"],[14,"frameborder","0"],[15,"src",[30,0,["userInputMobile"]]],[15,"title",[28,[32,0],["adplugin.advertisement_label"],null]],[12],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"amazon-product-links-label"],[12],[10,"h2"],[12],[1,[28,[32,0],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n      "],[10,0],[14,0,"container"],[14,"align","center"],[12],[1,"\\n        "],[10,"iframe"],[15,5,[30,0,["adWrapperStyle"]]],[14,"marginwidth","0"],[14,"marginheight","0"],[14,"scrolling","no"],[14,"frameborder","0"],[15,"src",[30,0,["userInput"]]],[15,"title",[28,[32,0],["adplugin.advertisement_label"],null]],[12],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]]]],[]],null],[13]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links.js",scope:()=>[a.i18n],isStrictMode:!0}),this)}},[(0,o.tagName)("")])
e.default=l}),define("discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad",["exports","@ember/template","discourse/lib/decorators","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends o.default{serve_id=null
placement=null
init(){this.set("serve_id",this.siteSettings.carbonads_serve_id),this.set("placement",this.siteSettings.carbonads_placement),super.init()}url(e,s){return(0,t.htmlSafe)(`//cdn.carbonads.com/carbon.js?serve=${e}&placement=${s}`)}static{dt7948.n(this.prototype,"url",[(0,s.default)("serve_id","placement")])}showCarbonAds(){return!this.currentUser||this.currentUser.show_carbon_ads}static{dt7948.n(this.prototype,"showCarbonAds",[s.default])}showAd(e,t,s,o,i){return e&&t&&s&&o&&i}static{dt7948.n(this.prototype,"showAd",[(0,s.default)("placement","serve_id","showCarbonAds","showToGroups","showOnCurrentPage")])}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.carbon,ad_plugin_house_ad_id:null,placement:this.placement}}}static{(0,i.setComponentTemplate)((0,a.createTemplateFactory)({id:"HgJWA4bP",block:'[[[41,[30,0,["showAd"]],[[[1,"  "],[10,"script"],[15,"src",[30,0,["url"]]],[14,1,"_carbonads_js"],[14,"async",""],[14,4,"text/javascript"],[12],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad.js",isStrictMode:!0}),this)}}e.default=r}),define("discourse/plugins/discourse-adplugin/discourse/components/google-adsense",["exports","@ember/runloop","@ember/template","@ember-decorators/component","rsvp","discourse/helpers/concat-class","discourse/lib/decorators","discourse/lib/environment","discourse/lib/load-script","discourse-i18n","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d,l,c,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let _=!1,g=null,m={}
const h={"topic-list-top":{code:"adsense_topic_list_top_code",sizes:"adsense_topic_list_top_ad_sizes"},"topic-above-post-stream":{code:"adsense_topic_above_post_stream_code",sizes:"adsense_topic_above_post_stream_ad_sizes"},"topic-above-suggested":{code:"adsense_topic_above_suggested_code",sizes:"adsense_topic_above_suggested_ad_sizes"},"post-bottom":{code:"adsense_post_bottom_code",sizes:"adsense_post_bottom_ad_sizes"}},b={"topic-list-top":{code:"adsense_mobile_topic_list_top_code",sizes:"adsense_mobile_topic_list_top_ad_size"},"topic-above-post-stream":{code:"adsense_mobile_topic_above_post_stream_code",sizes:"adsense_mobile_topic_above_post_stream_ad_size"},"topic-above-suggested":{code:"adsense_mobile_topic_above_suggested_code",sizes:"adsense_mobile_topic_above_suggested_ad_size"},"post-bottom":{code:"adsense_mobile_post_bottom_code",sizes:"adsense_mobile_post_bottom_ad_size"}},f=dt7948.c(class extends c.default{loadedGoogletag=!1
publisher_id=null
ad_width=null
ad_height=null
adRequested=!1
init(){let e,t
const s=this.get("placement")
e=this.site.mobileView?b[s]:h[s],m[s]||(m[s]=0)
const o=(this.siteSettings[e.sizes]||"").split("|")
1===o.length?t=o[0]:(t=o[m[s]%o.length],m[s]+=1),this.set("ad_width",function(e){if("responsive"===e)return"auto"
if(e.startsWith("fluid"))return"fluid"
const t=parseInt(e.substring(0,3).trim(),10)
return isNaN(t)?"auto":`${t}px`}(t)),this.set("ad_height",function(e){if("responsive"===e)return"auto"
if(e.startsWith("fluid"))return"fluid"
const t=parseInt(e.substring(4,7).trim(),10)
return isNaN(t)?"auto":`${t}px`}(t)),this.set("ad_code",this.siteSettings[e.code]),this.set("publisher_id",this.siteSettings.adsense_publisher_code),super.init()}async _triggerAds(){if(!(0,n.isTesting)()&&(this.set("adRequested",!0),await function(){if(_)return i.default.resolve()
if(g)return g
const e=("https:"===document.location.protocol?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
return g=(0,d.default)(e,{scriptTag:!0}).then(function(){_=!0}),g}(),!this.isDestroyed&&!this.isDestroying))try{(window.adsbygoogle||=[]).push({})}catch(e){console.error("Adsense error:",e)}}didInsertElement(){super.didInsertElement(),this.get("showAd")&&(0,t.scheduleOnce)("afterRender",this,this._triggerAds)}isResponsive(e){return["auto","fluid"].includes(e)}static{dt7948.n(this.prototype,"isResponsive",[(0,r.default)("ad_width")])}isFluid(e){return"fluid"===e}static{dt7948.n(this.prototype,"isFluid",[(0,r.default)("ad_width")])}classForSlot(e,t){return t?(0,s.htmlSafe)(`adsense-${e}`):""}static{dt7948.n(this.prototype,"classForSlot",[(0,r.default)("placement","showAd")])}autoAdFormat(e,t){return!!e&&(0,s.htmlSafe)(t?"fluid":"auto")}static{dt7948.n(this.prototype,"autoAdFormat",[(0,r.default)("isResponsive","isFluid")])}adWrapperStyle(e,t,o){return(0,s.htmlSafe)(o?"":`width: ${e}; height: ${t};`)}static{dt7948.n(this.prototype,"adWrapperStyle",[(0,r.default)("ad_width","ad_height","isResponsive")])}adInsStyle(e,t){return(0,s.htmlSafe)(`display: ${t?"block":"inline-block"}; ${e}`)}static{dt7948.n(this.prototype,"adInsStyle",[(0,r.default)("adWrapperStyle","isResponsive")])}showAdsenseAds(){return!this.currentUser||this.currentUser.show_adsense_ads}static{dt7948.n(this.prototype,"showAdsenseAds",[r.default])}showAd(e,t,s,o,i){return e&&t&&s&&o&&i}static{dt7948.n(this.prototype,"showAd",[(0,r.default)("publisher_id","showAdsenseAds","showToGroups","showAfterPost","showOnCurrentPage")])}showAfterPost(e){return!e||this.isNthPost(parseInt(this.siteSettings.adsense_nth_post_code,10))}static{dt7948.n(this.prototype,"showAfterPost",[(0,r.default)("postNumber")])}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.adsense,ad_plugin_house_ad_id:null,placement:this.placement}}}static{(0,u.setComponentTemplate)((0,p.createTemplateFactory)({id:"EDdi2imb",block:'[[[11,0],[16,0,[28,[32,0],["google-adsense",[30,0,["classForSlot"]],[52,[30,0,["isResponsive"]],"adsense-responsive"]],null]],[17,1],[12],[1,"\\n"],[41,[30,0,["showAd"]],[[[1,"    "],[10,0],[14,0,"google-adsense-label"],[12],[10,"h2"],[12],[1,[28,[32,1],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n    "],[10,0],[14,0,"google-adsense-content"],[15,1,[52,[30,0,["isResponsive"]],"google-adsense__responsive"]],[15,5,[30,0,["adWrapperStyle"]]],[12],[1,"\\n      "],[10,"ins"],[14,0,"adsbygoogle"],[15,5,[30,0,["adInsStyle"]]],[15,"data-ad-client",[29,["ca-pub-",[30,0,["publisher_id"]]]]],[15,"data-ad-slot",[30,0,["ad_code"]]],[15,"data-ad-format",[30,0,["autoAdFormat"]]],[12],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/google-adsense.js",scope:()=>[a.default,l.i18n],isStrictMode:!0}),this)}},[(0,o.tagName)("")])
e.default=f}),define("discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad",["exports","@ember/object/computed","@ember/template","@ember-decorators/component","@ember-decorators/object","rsvp","discourse/helpers/concat-class","discourse/lib/decorators","discourse/lib/environment","discourse/lib/load-script","discourse-i18n","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d,l,c,u,p,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=!1,m=null,h={},b=1,f={}
function v(e){return e.substring(4,7).trim()}function w(e){let t=e.replace(/ /g,"")
return t=t.replace(/['"]+/g,""),t=t.split(","),t}function y(e){let t=e
return t=t.replace(/['"]+/g,""),t=t.split("\n"),t}const z={"topic-list-top":{code:"dfp_topic_list_top_code",sizes:"dfp_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_topic_above_post_stream_code",sizes:"dfp_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_topic_above_suggested_code",sizes:"dfp_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_post_bottom_code",sizes:"dfp_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}},S={"topic-list-top":{code:"dfp_mobile_topic_list_top_code",sizes:"dfp_mobile_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_mobile_topic_above_post_stream_code",sizes:"dfp_mobile_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_mobile_topic_above_suggested_code",sizes:"dfp_mobile_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_mobile_post_bottom_code",sizes:"dfp_mobile_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}}
function A(e,t,s,o,i,a,r){if(!s.dfp_publisher_id)return
if(h[e])return h[e]
let n,d,l
return o?(l=s.dfp_publisher_id_mobile||s.dfp_publisher_id,d=S[t]):(l=s.dfp_publisher_id,d=z[t]),n=window.googletag.defineSlot("/"+l+"/"+s[d.code],[i,a],e),function(e,t,s){for(let o=0;o<e.length;o++)e[o]&&s.setTargeting(e[o],w(t[o]))}(y(s[d.targeting_keys]),y(s[d.targeting_values]),n),r&&n.setTargeting("discourse-category",r),n.addService(window.googletag.pubads()),h[e]={ad:n,width:i,height:a},h[e]}const I=dt7948.c(class extends u.default{loadedGoogletag=!1
lastAdRefresh=null
static{dt7948.g(this.prototype,"width",[(0,t.alias)("size.width")])}#d=void dt7948.i(this,"width")
static{dt7948.g(this.prototype,"height",[(0,t.alias)("size.height")])}#l=void dt7948.i(this,"height")
size(){return function(e,t,s){let o,i
o=s?S[e]:z[e],f[e]||(f[e]=0)
const a=(t[o.sizes]||"").split("|")
if(1===a.length?i=a[0]:(i=a[f[e]%a.length],f[e]+=1),"fluid"===i)return{width:"fluid",height:"fluid"}
const r={width:parseInt((n=i,n.substring(0,3).trim()),10),height:parseInt(v(i),10)}
var n
return isNaN(r.width)||isNaN(r.height)?void 0:r}(this.get("placement"),this.siteSettings,this.site.mobileView)}static{dt7948.n(this.prototype,"size",[n.default])}publisherId(e,t,s){return s&&t||e}static{dt7948.n(this.prototype,"publisherId",[(0,n.default)("siteSettings.dfp_publisher_id","siteSettings.dfp_publisher_id_mobile","site.mobileView")])}divId(e,t){let s=b++
return t?`div-gpt-ad-${s}-${e}-${t}`:`div-gpt-ad-${s}-${e}`}static{dt7948.n(this.prototype,"divId",[(0,n.default)("placement","postNumber")])}adUnitClass(e,t){return t?`dfp-ad-${e}`:""}static{dt7948.n(this.prototype,"adUnitClass",[(0,n.default)("placement","showAd")])}adWrapperStyle(e,t){if("fluid"!==e)return(0,s.htmlSafe)(`width: ${e}px; height: ${t}px;`)}static{dt7948.n(this.prototype,"adWrapperStyle",[(0,n.default)("width","height")])}adTitleStyleMobile(e){if("fluid"!==e)return(0,s.htmlSafe)(`width: ${e}px;`)}static{dt7948.n(this.prototype,"adTitleStyleMobile",[(0,n.default)("width")])}showAd(e,t,s,o,i,a){return e&&t&&s&&o&&i&&a}static{dt7948.n(this.prototype,"showAd",[(0,n.default)("publisherId","showDfpAds","showToGroups","showAfterPost","showOnCurrentPage","size")])}showDfpAds(){return!this.currentUser||this.currentUser.show_dfp_ads}static{dt7948.n(this.prototype,"showDfpAds",[n.default])}showAfterPost(e){return!e||this.isNthPost(parseInt(this.siteSettings.dfp_nth_post_code,10))}static{dt7948.n(this.prototype,"showAfterPost",[(0,n.default)("postNumber")])}shouldRefreshAd(){const e=this.get("lastAdRefresh")
return!e||new Date-e>3e3}updated(){if(!this.shouldRefreshAd())return
let e=h[this.get("divId")]
if(!e||!e.ad)return
let t=e.ad,s=this.get("currentCategorySlug")
this.get("loadedGoogletag")&&(this.set("lastAdRefresh",new Date),window.googletag.cmd.push(()=>{t.setTargeting("discourse-category",s||"0"),window.googletag.pubads().refresh([t])}))}static{dt7948.n(this.prototype,"updated",[(0,i.on)("didUpdate")])}_initGoogleDFP(){(0,d.isTesting)()||this.get("showAd")&&function(){if(g)return a.default.resolve()
if(m)return m
let e=("https:"===document.location.protocol?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js"
return m=(0,l.default)(e,{scriptTag:!0}).then(function(){g=!0,void 0===window.googletag&&console.log("googletag is undefined!"),window.googletag.cmd.push(function(){window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().setForceSafeFrame(!0),window.googletag.enableServices()})}),window.googletag=window.googletag||{cmd:[]},m}().then(()=>{this.set("loadedGoogletag",!0),this.set("lastAdRefresh",new Date),window.googletag.cmd.push(()=>{let e=A(this.get("divId"),this.get("placement"),this.siteSettings,this.site.mobileView,this.get("width"),this.get("height"),this.get("currentCategorySlug")||"0")
e&&e.ad&&(window.googletag.display(this.get("divId")),window.googletag.pubads().refresh([e.ad]))})})}static{dt7948.n(this.prototype,"_initGoogleDFP",[(0,i.on)("didInsertElement")])}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.dfp,ad_plugin_house_ad_id:null,placement:this.placement}}}willRender(){super.willRender(...arguments),this.get("showAd")}cleanup(){var e
e=this.get("divId"),h[e]&&window.googletag&&(window.googletag.destroySlots([h[e].ad]),delete h[e])}static{dt7948.n(this.prototype,"cleanup",[(0,i.on)("willDestroyElement")])}static{(0,p.setComponentTemplate)((0,_.createTemplateFactory)({id:"T21Ej47X",block:'[[[11,0],[16,0,[28,[32,0],["google-dfp-ad",[30,0,["adUnitClass"]]],null]],[17,1],[12],[1,"\\n"],[41,[30,0,["showAd"]],[[[41,[30,0,["site","mobileView"]],[[[1,"      "],[10,0],[14,0,"google-dfp-ad-label"],[15,5,[30,0,["adTitleStyleMobile"]]],[12],[10,"h2"],[12],[1,[28,[32,1],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n      "],[10,0],[15,1,[30,0,["divId"]]],[15,5,[30,0,["adWrapperStyle"]]],[14,0,"dfp-ad-unit"],[14,"align","center"],[12],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"google-dfp-ad-label"],[12],[10,"h2"],[12],[1,[28,[32,1],["adplugin.advertisement_label"],null]],[13],[13],[1,"\\n      "],[10,0],[15,1,[30,0,["divId"]]],[15,5,[30,0,["adWrapperStyle"]]],[14,0,"dfp-ad-unit"],[14,"align","center"],[12],[13],[1,"\\n"]],[]]]],[]],null],[13]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad.js",scope:()=>[r.default,c.i18n],isStrictMode:!0}),this)}},[(0,o.tagName)("")])
e.default=I}),define("discourse/plugins/discourse-adplugin/discourse/components/house-ad",["exports","@ember/template","@ember/utils","@ember-decorators/component","discourse/helpers/concat-class","discourse/lib/decorators","discourse/plugins/discourse-adplugin/discourse/components/ad-component","@ember/component","@ember/template-factory"],function(e,t,s,o,i,a,r,n,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l={topic_list_top:null,topic_above_post_stream:null,topic_above_suggested:null,post_bottom:null,topic_list_between:null},c=dt7948.c(class extends r.default{adHtml=""
currentAd=null
_handleAdClick=e=>{const t=e.target.closest("a")
t&&t.href&&this.trackClick()}
colspanAttribute(){return"td"===this.tagName?"5":null}static{dt7948.n(this.prototype,"colspanAttribute",[a.default])}adUnitClass(e,t){return t?`house-${e}`:""}static{dt7948.n(this.prototype,"adUnitClass",[(0,a.default)("placement","showAd")])}showAd(e,t,s,o){return e&&(t||s)&&o}static{dt7948.n(this.prototype,"showAd",[(0,a.default)("showToGroups","showAfterPost","showAfterTopicListItem","showOnCurrentPage")])}showAfterPost(e,t){return!e&&"topic-list-between"!==t||this.isNthPost(parseInt(this.site.get("house_creatives.settings.after_nth_post"),10))}static{dt7948.n(this.prototype,"showAfterPost",[(0,a.default)("postNumber","placement")])}showAfterTopicListItem(e){return"topic-list-between"!==e||this.isNthTopicListItem(parseInt(this.site.get("house_creatives.settings.after_nth_topic"),10))}static{dt7948.n(this.prototype,"showAfterTopicListItem",[(0,a.default)("placement")])}chooseAdHtml(){const e=this.site.get("house_creatives"),t=this.get("placement").replace(/-/g,"_"),s=this.adsNamesForSlot(t).filter(t=>{const s=e.creatives[t]
if(!s)return!1
const o=s.category_ids?.length>0,i=this.siteSettings.ad_plugin_routes_enabled&&s.routes?.length>0
if(!o&&!i)return!0
const a=o&&s.category_ids.includes(this.currentCategoryId),r=i&&s.routes.includes(this.currentRouteName)
return a||r})
if(s.length>0){l[t]||(l[t]=0)
let o=e.creatives[s[l[t]]]||""
return l[t]=(l[t]+1)%s.length,this.currentAd=o||null,o.html}this.currentAd=null}adsNamesForSlot(e){const t=this.site.get("house_creatives")
if(!t||!t.settings)return[]
const o=t.settings[e]
return Object.keys(t.creatives).length>0&&!(0,s.isBlank)(o)?o.split("|"):[]}refreshAd(){this.set("adHtml",this.chooseAdHtml())}buildImpressionPayload(){return{ad_plugin_impression:{ad_type:this.site.ad_types.house,ad_plugin_house_ad_id:this.currentAd?.id,placement:this.placement}}}didInsertElement(){if(super.didInsertElement(...arguments),this.get("showAd")){if(null===l.topic_list_top){const e=this.site.get("house_creatives")
Object.keys(l).forEach(t=>{const s=this.adsNamesForSlot(t)
if(0===s.length)return
const o=s.filter(t=>{const s=e.creatives[t]
return s&&(!s.category_ids?.length||s.category_ids.includes(this.currentCategoryId))})
l[t]=Math.floor(Math.random()*o.length)})}this.refreshAd()}}static{(0,n.setComponentTemplate)((0,d.createTemplateFactory)({id:"qAp71zuW",block:'[[[11,0],[16,"colspan",[30,0,["colspanAttribute"]]],[16,0,[28,[32,0],["house-creative",[30,0,["adUnitClass"]]],null]],[17,1],[12],[1,"\\n"],[41,[30,0,["showAd"]],[[[1,"    "],[1,[28,[32,1],[[30,0,["adHtml"]]],null]],[1,"\\n"]],[]],null],[13]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/house-ad.js",scope:()=>[i.default,t.htmlSafe],isStrictMode:!0}),this)}},[(0,o.tagName)("")])
e.default=c}),define("discourse/plugins/discourse-adplugin/discourse/components/post-bottom-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-slot","@ember/component","@ember/template-factory","@ember/component/template-only"],function(e,t,s,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"8XP+aVdx",block:'[[[8,[32,0],null,[["@placement","@category","@postNumber"],["post-bottom",[30,1,["topic","category","slug"]],[30,1,["post_number"]]]],null]],["@model"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/components/post-bottom-ad.js",scope:()=>[t.default],isStrictMode:!0}),(0,i.default)(void 0,"post-bottom-ad:PostBottomAd"))
e.default=a}),define("discourse/plugins/discourse-adplugin/discourse/connectors/after-topic-list-item/discourse-adplugin",["exports","@ember/component","@ember-decorators/component","discourse/plugins/discourse-adplugin/discourse/components/ad-slot","@ember/template-factory"],function(e,t,s,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=dt7948.c(class extends t.default{static shouldRender(e,t){return e.index&&(0,o.slotContenders)(t.site,t.siteSettings,"topic-list-between",e.index).length>0}static{(0,t.setComponentTemplate)((0,i.createTemplateFactory)({id:"dpbukeJi",block:'[[[11,"tr"],[24,0,"after-topic-list-item-outlet discourse-adplugin"],[17,1],[12],[1,"\\n  "],[8,[32,0],null,[["@placement","@category","@indexNumber","@childTagName"],["topic-list-between",[30,0,["category","slug"]],[30,0,["index"]],"td"]],null],[1,"\\n"],[13]],["&attrs"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/connectors/after-topic-list-item/discourse-adplugin.js",scope:()=>[o.default],isStrictMode:!0}),this)}},[(0,s.tagName)("")])
e.default=a}),define("discourse/plugins/discourse-adplugin/discourse/connectors/discovery-list-container-top/discourse-adplugin",["exports","@ember/component","@ember-decorators/component","discourse/plugins/discourse-adplugin/discourse/components/ad-slot","@ember/template-factory"],function(e,t,s,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=dt7948.c(class extends t.default{static{(0,t.setComponentTemplate)((0,i.createTemplateFactory)({id:"3f3JOrTv",block:'[[[11,1],[24,0,"discovery-list-container-top-outlet discourse-adplugin"],[17,1],[12],[1,"\\n  "],[8,[32,0],null,[["@placement","@category"],["topic-list-top",[30,0,["category","slug"]]]],null],[1,"\\n"],[13]],["&attrs"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/connectors/discovery-list-container-top/discourse-adplugin.js",scope:()=>[o.default],isStrictMode:!0}),this)}},[(0,s.tagName)("")])
e.default=a}),define("discourse/plugins/discourse-adplugin/discourse/connectors/topic-above-post-stream/discourse-adplugin",["exports","@ember/component","@ember-decorators/component","discourse/plugins/discourse-adplugin/discourse/components/ad-slot","@ember/template-factory"],function(e,t,s,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=dt7948.c(class extends t.default{static{(0,t.setComponentTemplate)((0,i.createTemplateFactory)({id:"yAElMKre",block:'[[[11,0],[24,0,"topic-above-post-stream-outlet discourse-adplugin"],[17,1],[12],[1,"\\n  "],[8,[32,0],null,[["@placement","@category"],["topic-above-post-stream",[30,0,["model","category","slug"]]]],null],[1,"\\n"],[13]],["&attrs"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/connectors/topic-above-post-stream/discourse-adplugin.js",scope:()=>[o.default],isStrictMode:!0}),this)}},[(0,s.tagName)("")])
e.default=a}),define("discourse/plugins/discourse-adplugin/discourse/connectors/topic-above-suggested/discourse-adplugin",["exports","@ember/component","@ember-decorators/component","discourse/plugins/discourse-adplugin/discourse/components/ad-slot","@ember/template-factory"],function(e,t,s,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=dt7948.c(class extends t.default{static{(0,t.setComponentTemplate)((0,i.createTemplateFactory)({id:"Af2ikCJ9",block:'[[[11,0],[24,0,"topic-above-suggested-outlet discourse-adplugin"],[17,1],[12],[1,"\\n  "],[8,[32,0],null,[["@placement","@category"],["topic-above-suggested",[30,0,["model","category","slug"]]]],null],[1,"\\n"],[13]],["&attrs"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/connectors/topic-above-suggested/discourse-adplugin.js",scope:()=>[o.default],isStrictMode:!0}),this)}},[(0,s.tagName)("")])
e.default=a}),define("discourse/plugins/discourse-adplugin/discourse/helpers/slot-position",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.isNthPost=function(e,t){return!!(e&&e>0)&&t%e===0},e.isNthTopicListItem=function(e,t){return!!(e&&e>0&&t>0)&&(t+1)%e===0}}),define("discourse/plugins/discourse-adplugin/discourse/initializers/adplugin-admin-plugin-configuration-nav",["exports","discourse/lib/plugin-api"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"adplugin-admin-plugin-configuration-nav",initialize(e){const s=e.lookup("service:current-user")
s?.admin&&(0,t.withPluginApi)(e=>{e.setAdminPluginIcon("discourse-adplugin","rectangle-ad")})}}}),define("discourse/plugins/discourse-adplugin/discourse/initializers/initialize-ad-plugin",["exports","discourse/lib/plugin-api","discourse/models/site","discourse/plugins/discourse-adplugin/discourse/components/post-bottom-ad","@ember/component","@ember/template-factory","@ember/component/template-only"],function(e,t,s,o,i,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"initialize-ad-plugin",initialize(e){(0,t.withPluginApi)(e=>{(function(e){e.renderAfterWrapperOutlet("post-article",(0,i.setComponentTemplate)((0,a.createTemplateFactory)({id:"eoe0F9jq",block:'[[[10,0],[14,0,"ad-connector"],[12],[1,"\\n  "],[8,[32,0],null,[["@model"],[[30,1]]],null],[1,"\\n"],[13]],["@post"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-adplugin/discourse/initializers/initialize-ad-plugin.js",scope:()=>[o.default],isStrictMode:!0}),(0,r.default)(void 0,void 0)))})(e)})
const n=e.lookup("service:message-bus"),d=e.lookup("service:current-user")?"/site/house-creatives/logged-in":"/site/house-creatives/anonymous"
n.subscribe(d,function(e){s.default.currentProp("house_creatives",e)})}}})

//# sourceMappingURL=discourse-adplugin-ba669da1.map