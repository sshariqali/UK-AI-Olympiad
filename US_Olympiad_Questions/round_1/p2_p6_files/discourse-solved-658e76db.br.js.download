define("discourse/plugins/discourse-solved/discourse/components/modal/category-change-solved-confirmation",["exports","@glimmer/component","@glimmer/tracking","@ember/component","@ember/modifier","@ember/object","discourse/components/d-button","discourse/components/d-modal","discourse-i18n","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{static{dt7948.g(this.prototype,"dontShowAgain",[s.tracked],function(){return!1})}#e=void dt7948.i(this,"dontShowAgain")
toggleDontShowAgain(e){this.dontShowAgain=e.target.checked}static{dt7948.n(this.prototype,"toggleDontShowAgain",[i.action])}confirm(){this.args.closeModal({confirmed:!0,dontShowAgain:this.dontShowAgain})}static{dt7948.n(this.prototype,"confirm",[i.action])}cancel(){this.args.closeModal({confirmed:!1})}static{dt7948.n(this.prototype,"cancel",[i.action])}static{(0,o.setComponentTemplate)((0,d.createTemplateFactory)({id:"pFVhH456",block:'[[[8,[32,0],[[24,0,"category-change-solved-confirmation-modal"]],[["@closeModal","@title"],[[30,0,["cancel"]],[28,[32,1],["solved.confirm_category_change_solution_title"],null]]],[["body","footer"],[[[[1,"\\n    "],[10,2],[12],[1,[28,[32,1],["solved.confirm_category_change_solution"],null]],[13],[1,"\\n    "],[10,0],[14,0,"control-group"],[12],[1,"\\n      "],[10,"label"],[14,0,"checkbox-label category-change-solution-dont-show-again"],[12],[1,"\\n        "],[8,[32,2],[[4,[32,3],["change",[30,0,["toggleDontShowAgain"]]],null]],[["@type","@checked"],["checkbox",[30,0,["dontShowAgain"]]]],null],[1,"\\n        "],[1,[28,[32,1],["solved.dont_show_again"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[32,4],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["confirm"]],"solved.confirm_category_change_solution_confirm"]],null],[1,"\\n    "],[8,[32,4],[[24,0,"btn-transparent"]],[["@action","@label"],[[30,0,["cancel"]],"solved.confirm_category_change_solution_cancel"]],null],[1,"\\n  "]],[]]]]]],[],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/components/modal/category-change-solved-confirmation.js",scope:()=>[r.default,a.i18n,o.Input,n.on,c.default],isStrictMode:!0}),this)}}e.default=l}),define("discourse/plugins/discourse-solved/discourse/components/modal/move-solution-confirmation",["exports","@glimmer/component","@glimmer/tracking","@ember/component","@ember/modifier","@ember/object","discourse/components/d-button","discourse/components/d-modal","discourse-i18n","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{static{dt7948.g(this.prototype,"dontShowAgain",[s.tracked],function(){return!1})}#e=void dt7948.i(this,"dontShowAgain")
get confirmLabel(){return this.args.model.count>1?"solved.move_post_confirm.other":"solved.move_post_confirm.one"}toggleDontShowAgain(e){this.dontShowAgain=e.target.checked}static{dt7948.n(this.prototype,"toggleDontShowAgain",[i.action])}confirm(){this.args.closeModal({confirmed:!0,dontShowAgain:this.dontShowAgain})}static{dt7948.n(this.prototype,"confirm",[i.action])}cancel(){this.args.closeModal({confirmed:!1})}static{dt7948.n(this.prototype,"cancel",[i.action])}static{(0,o.setComponentTemplate)((0,d.createTemplateFactory)({id:"l90FKHvY",block:'[[[8,[32,0],[[24,0,"move-solution-confirmation-modal"]],[["@closeModal","@title"],[[30,0,["cancel"]],[28,[32,1],["solved.confirm_move_solution_title"],null]]],[["body","footer"],[[[[1,"\\n    "],[10,2],[12],[1,[28,[32,1],["solved.confirm_move_solution"],[["count"],[[30,1,["count"]]]]]],[13],[1,"\\n    "],[10,0],[14,0,"control-group"],[12],[1,"\\n      "],[10,"label"],[14,0,"checkbox-label move-solution-dont-show-again"],[12],[1,"\\n        "],[8,[32,2],[[4,[32,3],["change",[30,0,["toggleDontShowAgain"]]],null]],[["@type","@checked"],["checkbox",[30,0,["dontShowAgain"]]]],null],[1,"\\n        "],[1,[28,[32,1],["solved.dont_show_again"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[32,4],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["confirm"]],[30,0,["confirmLabel"]]]],null],[1,"\\n    "],[8,[32,4],[[24,0,"btn-transparent"]],[["@action","@label"],[[30,0,["cancel"]],"solved.move_post_cancel"]],null],[1,"\\n  "]],[]]]]]],["@model"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/components/modal/move-solution-confirmation.js",scope:()=>[r.default,a.i18n,o.Input,n.on,c.default],isStrictMode:!0}),this)}}e.default=l}),define("discourse/plugins/discourse-solved/discourse/components/solved-accept-answer-button",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/components/d-button","discourse/lib/ajax","discourse/lib/ajax-error","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{static hidden(e){return e.post.topic_accepted_answer}static{dt7948.g(this.prototype,"appEvents",[n.service])}#t=void dt7948.i(this,"appEvents")
static{dt7948.g(this.prototype,"currentUser",[n.service])}#s=void dt7948.i(this,"currentUser")
static{dt7948.g(this.prototype,"saving",[s.tracked],function(){return!1})}#o=void dt7948.i(this,"saving")
get showLabel(){return this.currentUser?.id===this.args.post.topicCreatedById}async acceptAnswer(){const e=this.args.post
this.saving=!0
try{await async function(e){if(!e.can_accept_answer||e.accepted_answer)return
const t=e.topic
try{const s=await(0,c.ajax)("/solution/accept",{type:"POST",data:{id:e.id}})
t.setAcceptedSolution(s)}catch(s){(0,r.popupAjaxError)(s)}}(e,this.currentUser),this.appEvents.trigger("discourse-solved:solution-toggled",e)}catch(t){(0,r.popupAjaxError)(t)}finally{this.saving=!1}}static{dt7948.n(this.prototype,"acceptAnswer",[o.action])}static{(0,a.setComponentTemplate)((0,d.createTemplateFactory)({id:"nhx4E2xD",block:'[[[8,[32,0],[[24,0,"post-action-menu__solved-unaccepted unaccepted"],[17,1]],[["@action","@disabled","@icon","@label","@title"],[[30,0,["acceptAnswer"]],[30,0,["saving"]],"far-square-check",[52,[30,0,["showLabel"]],"solved.solution"],"solved.accept_answer"]],null]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/components/solved-accept-answer-button.js",scope:()=>[i.default],isStrictMode:!0}),this)}}e.default=l}),define("discourse/plugins/discourse-solved/discourse/components/solved-accepted-answer",["exports","@glimmer/component","@glimmer/tracking","@ember/modifier","@ember/object","@ember/service","@ember/template","discourse/components/d-button","discourse/components/interpolated-translation","discourse/components/post/cooked-html","discourse/components/user-link","discourse/helpers/concat-class","discourse/helpers/d-icon","discourse-i18n","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d,l,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class v extends t.default{static{dt7948.g(this.prototype,"siteSettings",[i.service])}#n=void dt7948.i(this,"siteSettings")
static{dt7948.g(this.prototype,"expanded",[s.tracked],function(){return!1})}#i=void dt7948.i(this,"expanded")
get topic(){return this.args.post.topic}get acceptedAnswer(){return this.topic.accepted_answer}get quoteId(){return`accepted-answer-${this.topic.id}-${this.acceptedAnswer.post_number}`}get hasExcerpt(){return!!this.acceptedAnswer.excerpt}get content(){return this.hasExcerpt?(0,c.htmlSafe)(this.acceptedAnswer.excerpt):""}get showMarkedBy(){return this.siteSettings.show_who_marked_solved}get showSolvedBy(){return!(!this.acceptedAnswer.username||!this.acceptedAnswer.post_number)}get postNumber(){return(0,m.i18n)("solved.accepted_answer_post_number",{post_number:this.acceptedAnswer.post_number})}get solverUsername(){return this.acceptedAnswer.username}get accepterUsername(){return this.acceptedAnswer.accepter_username}get solverDisplayName(){const e=this.acceptedAnswer.username,t=this.acceptedAnswer.name
return this.siteSettings.display_name_on_posts&&t?t:e}get accepterDisplayName(){const e=this.acceptedAnswer.accepter_username,t=this.acceptedAnswer.accepter_name
return this.siteSettings.display_name_on_posts&&t?t:e}get postPath(){const e=this.acceptedAnswer.post_number
return`${this.topic.url}/${e}`}toggleExpanded(){this.expanded=!this.expanded}static{dt7948.n(this.prototype,"toggleExpanded",[n.action])}onClickTitle(e){e.target.closest("a")||e.target.closest(".quote-controls")||this.toggleExpanded()}static{dt7948.n(this.prototype,"onClickTitle",[n.action])}static{(0,h.setComponentTemplate)((0,g.createTemplateFactory)({id:"0/ybYHYq",block:'[[[41,[30,0,["acceptedAnswer"]],[[[1,"  "],[10,"aside"],[15,0,[28,[32,0],["quote accepted-answer",[52,[30,0,["hasExcerpt"]],"accepted-answer--has-excerpt"],[52,[51,[30,0,["content"]]],"title-only"]],null]],[15,"data-expanded",[29,[[30,0,["expanded"]]]]],[15,"data-username",[30,0,["acceptedAnswer","username"]]],[15,"data-post",[30,0,["acceptedAnswer","post_number"]]],[15,"data-topic",[30,0,["topic","id"]]],[12],[1,"\\n    "],[11,0],[24,0,"title"],[24,"data-has-quote-controls","true"],[4,[52,[30,0,["content"]],[50,[32,1],2,["click",[30,0,["onClickTitle"]]],null]],null,null],[12],[1,"\\n      "],[10,0],[14,0,"accepted-answer--solver-accepter"],[12],[1,"\\n        "],[10,0],[14,0,"accepted-answer--solver"],[12],[1,"\\n"],[41,[30,0,["showSolvedBy"]],[[[1,"            "],[1,[28,[32,2],["square-check"],[["class"],["accepted"]]]],[1,"\\n            "],[8,[32,3],null,[["@key"],["solved.accepted_answer_solver_info"]],[["default"],[[[[1,"\\n              "],[8,[30,1],null,[["@name"],["user"]],[["default"],[[[[1,"\\n                "],[8,[32,4],null,[["@username"],[[30,0,["solverUsername"]]]],[["default"],[[[[1,[30,0,["solverDisplayName"]]]],[]]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[8,[30,1],null,[["@name"],["post"]],[["default"],[[[[1,"\\n                "],[10,3],[15,6,[30,0,["postPath"]]],[12],[1,[30,0,["postNumber"]]],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[1]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n        "],[10,0],[14,0,"accepted-answer--accepter"],[12],[1,"\\n"],[41,[30,0,["showMarkedBy"]],[[[1,"            "],[8,[32,3],null,[["@key"],["solved.marked_solved_by"]],[["default"],[[[[1,"\\n              "],[8,[30,2],null,[["@name"],["user"]],[["default"],[[[[1,"\\n                "],[8,[32,4],null,[["@username"],[[30,0,["accepterUsername"]]]],[["default"],[[[[1,[30,0,["accepterDisplayName"]]]],[]]]]],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[2]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"quote-controls"],[12],[1,"\\n"],[41,[30,0,["content"]],[[[1,"          "],[8,[32,5],[[24,0,"btn-flat quote-toggle"]],[["@action","@ariaControls","@ariaExpanded","@ariaLabel","@title","@icon"],[[30,0,["toggleExpanded"]],[30,0,["quoteId"]],[30,0,["expanded"]],[52,[30,0,["expanded"]],"post.collapse","expand"],[52,[30,0,["expanded"]],"post.collapse","expand"],[52,[30,0,["expanded"]],"chevron-up","chevron-down"]]],null],[1,"\\n"]],[]],null],[1,"        "],[8,[32,5],[[24,0,"btn-flat back"]],[["@href","@title","@ariaLabel","@icon"],[[30,0,["postPath"]],"post.follow_quote","post.follow_quote","arrow-down"]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"],[41,[30,0,["content"]],[[[1,"      "],[10,"blockquote"],[15,1,[30,0,["quoteId"]]],[12],[1,"\\n        "],[8,[32,6],null,[["@post","@cooked","@decoratorState"],[[30,3],[30,0,["content"]],[30,4]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],[]],null]],["Placeholder","Placeholder","@post","@decoratorState"],["if","unless","modifier"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/components/solved-accepted-answer.js",scope:()=>[u.default,o.on,p.default,a.default,l.default,r.default,d.default],isStrictMode:!0}),this)}}e.default=v}),define("discourse/plugins/discourse-solved/discourse/components/solved-unaccept-answer-button",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/components/d-button","discourse/components/interpolated-translation","discourse/components/user-link","discourse/float-kit/components/d-tooltip","discourse/helpers/d-icon","discourse/lib/ajax","discourse/lib/ajax-error","discourse/truth-helpers","discourse-i18n","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d,l,u,p,m,h,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class v extends t.default{static{dt7948.g(this.prototype,"appEvents",[n.service])}#t=void dt7948.i(this,"appEvents")
static{dt7948.g(this.prototype,"siteSettings",[n.service])}#n=void dt7948.i(this,"siteSettings")
static{dt7948.g(this.prototype,"saving",[s.tracked],function(){return!1})}#o=void dt7948.i(this,"saving")
async unacceptAnswer(){const e=this.args.post
this.saving=!0
try{await async function(e){if(!e.can_accept_answer||!e.accepted_answer)return
const t=e.topic
try{await(0,l.ajax)("/solution/unaccept",{type:"POST",data:{id:e.id}}),t.setAcceptedSolution(void 0)}catch(s){(0,u.popupAjaxError)(s)}}(e),this.appEvents.trigger("discourse-solved:solution-toggled",e)}catch(t){(0,u.popupAjaxError)(t)}finally{this.saving=!1}}static{dt7948.n(this.prototype,"unacceptAnswer",[o.action])}get showAcceptedBy(){return!(!this.siteSettings.show_who_marked_solved||!this.args.post.topic.accepted_answer.accepter_username)}get acceptedByUsername(){return this.args.post.topic.accepted_answer.accepter_username}get acceptedByDisplayName(){const e=this.args.post.topic.accepted_answer.accepter_username,t=this.args.post.topic.accepted_answer.accepter_name
return this.siteSettings.display_name_on_posts&&t?t:e}static{(0,h.setComponentTemplate)((0,g.createTemplateFactory)({id:"UwyiNFjF",block:'[[[10,1],[14,0,"extra-buttons"],[12],[1,"\\n"],[41,[28,[32,0],[[30,1,["can_accept_answer"]],[30,1,["accepted_answer"]]],null],[[[41,[30,0,["showAcceptedBy"]],[[[1,"      "],[8,[32,1],null,[["@identifier"],["post-action-menu__solved-accepted-tooltip"]],[["trigger","content"],[[[[1,"\\n          "],[8,[32,2],[[24,0,"post-action-menu__solved-accepted accepted fade-out"],[17,2]],[["@action","@icon","@label","@title"],[[30,0,["unacceptAnswer"]],"square-check","solved.solution","solved.unaccept_answer"]],null],[1,"\\n        "]],[]],[[[1,"\\n          "],[8,[32,3],null,[["@key"],["solved.marked_solved_by"]],[["default"],[[[[1,"\\n            "],[8,[30,3],null,[["@name"],["user"]],[["default"],[[[[1,"\\n              "],[8,[32,4],null,[["@username"],[[30,0,["acceptedByUsername"]]]],[["default"],[[[[1,"\\n                "],[1,[30,0,["acceptedByDisplayName"]]],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[3]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"      "],[8,[32,2],[[24,0,"post-action-menu__solved-accepted accepted fade-out"],[17,2]],[["@action","@disabled","@icon","@label","@title"],[[30,0,["unacceptAnswer"]],[30,0,["saving"]],"square-check","solved.solution","solved.unaccept_answer"]],null],[1,"\\n"]],[]]]],[]],[[[1,"    "],[10,1],[14,0,"accepted-text"],[15,"title",[28,[32,5],["solved.accepted_description"],null]],[12],[1,"\\n      "],[10,1],[12],[1,[28,[32,6],["check"],null]],[13],[1,"\\n      "],[10,1],[14,0,"accepted-label"],[12],[1,"\\n        "],[1,[28,[32,5],["solved.solution"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]],[13]],["@post","&attrs","Placeholder"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/components/solved-unaccept-answer-button.js",scope:()=>[p.and,a.default,i.default,c.default,r.default,m.i18n,d.default],isStrictMode:!0}),this)}}e.default=v}),define("discourse/plugins/discourse-solved/discourse/connectors/after-topic-status/solved-status",["exports","discourse/helpers/d-icon","discourse/truth-helpers","discourse-i18n","@ember/component","@ember/template-factory","@ember/component/template-only"],function(e,t,s,o,n,i,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=(0,n.setComponentTemplate)((0,i.createTemplateFactory)({id:"6V/ktIyH",block:'[[[41,[28,[32,0],[[30,1,["topic","has_accepted_answer"]],[30,1,["topic","accepted_answer"]]],null],[[[10,1],[15,"title",[28,[32,1],["topic_statuses.solved.help"],null]],[14,0,"topic-status --solved"],[12],[1,[28,[32,2],["far-square-check"],null]],[13]],[]],[[[41,[28,[32,3],[[30,1,["topic","can_have_answer"]],[28,[32,4],[[30,1,["context"]],"topic-list"],null]],null],[[[10,1],[15,"title",[28,[32,1],["solved.has_no_accepted_answer"],null]],[14,0,"topic-status --unsolved"],[12],[1,[28,[32,2],["far-square"],null]],[13]],[]],null]],[]]]],["@outletArgs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/after-topic-status/solved-status.js",scope:()=>[s.or,o.i18n,t.default,s.and,s.eq],isStrictMode:!0}),(0,c.default)(void 0,"solved-status:SolvedStatus"))
e.default=r}),define("discourse/plugins/discourse-solved/discourse/connectors/bread-crumbs-right/solved-status-filter",["exports","@glimmer/component","@ember/helper","@ember/object","@ember/service","discourse/select-kit/components/combo-box","discourse-i18n","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d={solved:"yes",unsolved:"no",all:null},l={yes:"solved",no:"unsolved"}
class u extends t.default{static shouldRender(e,t,s){const o=s.lookup("service:router")
return!(!t.siteSettings.show_filter_by_solved_status||"discovery.categories"===o.currentRouteName||e.editingCategory)&&(!(!t.siteSettings.allow_solved_on_all_topics&&"tag.show"!==o.currentRouteName)||e.currentCategory?.enable_accepted_answers)}static{dt7948.g(this.prototype,"router",[n.service])}#c=void dt7948.i(this,"router")
static{dt7948.g(this.prototype,"siteSettings",[n.service])}#n=void dt7948.i(this,"siteSettings")
get statuses(){return["all","solved","unsolved"].map(e=>({name:(0,c.i18n)(`solved.topic_status_filter.${e}`),value:e}))}get status(){const e=this.router.currentRoute.queryParams?.solved
return l[e]||"all"}changeStatus(e){this.router.transitionTo({queryParams:{solved:d[e]}})}static{dt7948.n(this.prototype,"changeStatus",[o.action])}static{(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"cztFjGjq",block:'[[[41,[30,0,["siteSettings","solved_enabled"]],[[[1,"  "],[10,"li"],[12],[1,"\\n    "],[8,[32,0],[[24,0,"solved-status-filter"]],[["@content","@value","@valueProperty","@options","@onChange"],[[30,0,["statuses"]],[30,0,["status"]],"value",[28,[32,1],null,[["caretDownIcon","caretUpIcon"],["angle-right","angle-down"]]],[30,0,["changeStatus"]]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/bread-crumbs-right/solved-status-filter.js",scope:()=>[i.default,s.hash],isStrictMode:!0}),this)}}e.default=u}),define("discourse/plugins/discourse-solved/discourse/connectors/category-custom-settings/solved-settings",["exports","@ember/component","@ember/helper","@ember/modifier","@ember/object","@ember-decorators/component","discourse/helpers/with-event-value","discourse-i18n","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=dt7948.c(class extends t.default{onChangeSetting(e){this.set("category.custom_fields.enable_accepted_answers",e?"true":"false")}static{dt7948.n(this.prototype,"onChangeSetting",[n.action])}static{(0,t.setComponentTemplate)((0,a.createTemplateFactory)({id:"Lw9eD0b5",block:'[[[11,0],[24,0,"category-custom-settings-outlet solved-settings"],[17,1],[12],[1,"\\n  "],[10,"h3"],[12],[1,[28,[32,0],["solved.title"],null]],[13],[1,"\\n\\n"],[41,[51,[30,0,["siteSettings","allow_solved_on_all_topics"]]],[[[1,"    "],[10,"section"],[14,0,"field"],[12],[1,"\\n      "],[10,0],[14,0,"enable-accepted-answer"],[12],[1,"\\n        "],[10,"label"],[14,0,"checkbox-label"],[12],[1,"\\n          "],[11,"input"],[16,"checked",[30,0,["category","enable_accepted_answers"]]],[24,4,"checkbox"],[4,[32,1],["change",[28,[32,2],[[30,0,["onChangeSetting"]],"target.checked"],null]],null],[12],[13],[1,"\\n          "],[1,[28,[32,0],["solved.allow_accepted_answers"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"section"],[14,0,"field auto-close-solved-topics"],[12],[1,"\\n    "],[10,"label"],[14,"for","auto-close-solved-topics"],[12],[1,"\\n      "],[1,[28,[32,0],["solved.solved_topics_auto_close_hours"],null]],[1,"\\n    "],[13],[1,"\\n    "],[11,"input"],[16,2,[30,0,["category","custom_fields","solved_topics_auto_close_hours"]]],[24,"min","0"],[24,1,"auto-close-solved-topics"],[24,4,"number"],[4,[32,1],["input",[28,[32,2],[[28,[32,3],[[28,[31,1],[[30,0,["category","custom_fields","solved_topics_auto_close_hours"]]],null]],null]],null]],null],[12],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs"],["unless","mut"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/category-custom-settings/solved-settings.js",scope:()=>[r.i18n,o.on,c.default,s.fn],isStrictMode:!0}),this)}},[(0,i.tagName)("")])
e.default=d}),define("discourse/plugins/discourse-solved/discourse/connectors/topic-navigation/no-answer",["exports","@ember/component","@ember/runloop","@ember-decorators/component","discourse/components/topic-navigation-popup","discourse/lib/environment","discourse-i18n","@ember/template-factory"],function(e,t,s,o,n,i,c,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=6048e5,d=a,l=(0,i.isTesting)()?0:2e3,u=dt7948.c(class extends t.default{static shouldRender(e,t){return!t.site.mobileView}init(){super.init(...arguments),this.setProperties({oneWeek:a,show:!1,showConfetti:!1}),this.appEvents.on("discourse-solved:solution-toggled",this,this.hidePopup),(0,s.later)(()=>{if(this.isDestroying||this.isDestroyed)return
const e=this.topic,t=this.currentUser
!e.accepted_answer&&t&&e.user_id===t.id&&moment()-moment(e.created_at)>d&&e.postStream.posts.some(e=>e.user_id!==t.id&&e.can_accept_answer)&&this.set("show",!0)},l)}willDestroyElement(){super.willDestroyElement(...arguments),this.appEvents.off("discourse-solved:solution-toggled",this,this.hidePopup)}hidePopup(){this.show&&(this.set("show",!1),window.matchMedia("(prefers-reduced-motion: reduce)").matches||this.set("showConfetti",!0))}get confettiParticles(){return Array.from({length:50},(e,t)=>t)}static{(0,t.setComponentTemplate)((0,r.createTemplateFactory)({id:"QJRaW+wJ",block:'[[[11,0],[24,0,"topic-navigation-outlet no-answer"],[17,1],[12],[1,"\\n"],[41,[30,0,["showConfetti"]],[[[1,"    "],[10,0],[14,0,"solved-confetti"],[12],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,0,["confettiParticles"]]],null]],null],null,[[[1,"        "],[10,0],[14,0,"solved-confetti-particle"],[12],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["show"]],[[[1,"    "],[8,[32,0],null,[["@popupId","@dismissDuration"],["solved-notice",[30,0,["oneWeek"]]]],[["default"],[[[[1,"\\n      "],[10,"h2"],[12],[1,[28,[32,1],["solved.no_answer.title"],null]],[13],[1,"\\n      "],[10,2],[12],[1,[28,[32,1],["solved.no_answer.description"],null]],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[13]],["&attrs"],["if","each","-track-array"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/topic-navigation/no-answer.js",scope:()=>[n.default,c.i18n],isStrictMode:!0}),this)}},[(0,o.tagName)("")])
e.default=u}),define("discourse/plugins/discourse-solved/discourse/connectors/user-activity-bottom/solved-list",["exports","@glimmer/component","@ember/routing","@ember/service","discourse/helpers/d-icon","discourse-i18n","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends t.default{static{dt7948.g(this.prototype,"siteSettings",[o.service])}#n=void dt7948.i(this,"siteSettings")
static{(0,c.setComponentTemplate)((0,r.createTemplateFactory)({id:"H8wJP5pS",block:'[[[41,[30,0,["siteSettings","solved_enabled"]],[[[1,"  "],[10,"li"],[14,0,"user-activity-bottom-outlet solved-list"],[12],[1,"\\n    "],[8,[32,0],null,[["@route"],["userActivity.solved"]],[["default"],[[[[1,"\\n      "],[1,[28,[32,1],["square-check"],null]],[1,"\\n      "],[1,[28,[32,2],["solved.title"],null]],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/user-activity-bottom/solved-list.js",scope:()=>[s.LinkTo,n.default,i.i18n],isStrictMode:!0}),this)}}e.default=a}),define("discourse/plugins/discourse-solved/discourse/connectors/user-card-metadata/accepted-answers",["exports","@ember/component","@ember-decorators/component","discourse-i18n","@ember/template-factory"],function(e,t,s,o,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=dt7948.c(class extends t.default{static{(0,t.setComponentTemplate)((0,n.createTemplateFactory)({id:"P78ItE6D",block:'[[[11,0],[24,0,"user-card-metadata-outlet accepted-answers"],[17,1],[12],[1,"\\n"],[41,[30,0,["user","accepted_answers"]],[[[1,"    "],[10,1],[14,0,"desc"],[12],[1,[28,[32,0],["solutions"],null]],[13],[1,"\\n    "],[10,1],[12],[1,[30,0,["user","accepted_answers"]]],[13],[1,"\\n"]],[]],null],[13]],["&attrs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/user-card-metadata/accepted-answers.js",scope:()=>[o.i18n],isStrictMode:!0}),this)}},[(0,s.tagName)("")])
e.default=i}),define("discourse/plugins/discourse-solved/discourse/connectors/user-summary-stat/solved-count",["exports","@glimmer/component","@ember/routing","@ember/service","discourse/components/user-stat","discourse/truth-helpers","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends t.default{static{dt7948.g(this.prototype,"siteSettings",[o.service])}#n=void dt7948.i(this,"siteSettings")
static{(0,c.setComponentTemplate)((0,r.createTemplateFactory)({id:"TqyekpU7",block:'[[[41,[28,[32,0],[[30,0,["siteSettings","solved_enabled"]],[30,1,["model","solved_count"]]],null],[[[1,"  "],[10,"li"],[14,0,"user-summary-stat-outlet solved-count linked-stat"],[12],[1,"\\n    "],[8,[32,1],null,[["@route"],["userActivity.solved"]],[["default"],[[[[1,"\\n      "],[8,[32,2],null,[["@value","@label","@icon"],[[30,1,["model","solved_count"]],"solved.solution_summary","square-check"]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@outletArgs"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/connectors/user-summary-stat/solved-count.js",scope:()=>[i.and,s.LinkTo,n.default],isStrictMode:!0}),this)}}e.default=a}),define("discourse/plugins/discourse-solved/discourse/initializers/add-topic-list-class",["exports","discourse/lib/plugin-api"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"add-topic-list-class",initialize(){(0,t.withPluginApi)(e=>{e.registerValueTransformer("topic-list-item-class",({value:e,context:t})=>(t.topic.has_accepted_answer&&e.push("status-solved"),e))})}}}),define("discourse/plugins/discourse-solved/discourse/initializers/extend-for-solved-button",["exports","@glimmer/component","@glimmer/tracking","discourse/lib/plugin-api","discourse-i18n","discourse/plugins/discourse-solved/discourse/components/solved-accept-answer-button","discourse/plugins/discourse-solved/discourse/components/solved-accepted-answer","discourse/plugins/discourse-solved/discourse/components/solved-unaccept-answer-button","@ember/component","@ember/template-factory"],function(e,t,s,o,n,i,c,r,a,d){"use strict"
function l(e){(function(e){e.addTrackedPostProperties("can_accept_answer","accepted_answer","topic_accepted_answer"),e.renderAfterWrapperOutlet("post-content-cooked-html",class extends t.default{static shouldRender(e){return 1===e.post?.post_number&&e.post?.topic?.accepted_answer}static{(0,a.setComponentTemplate)((0,d.createTemplateFactory)({id:"lVHWcl6Y",block:'[[[8,[32,0],null,[["@post","@decoratorState"],[[30,1],[30,2]]],null]],["@post","@decoratorState"],[]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/initializers/extend-for-solved-button.js",scope:()=>[c.default],isStrictMode:!0}),this)}})})(e),function(e){e.registerValueTransformer("post-menu-buttons",({value:e,context:{post:t,firstButtonKey:s,secondLastHiddenButtonKey:o,lastHiddenButtonKey:n}})=>{let c
t.accepted_answer?c=r.default:t.can_accept_answer&&(c=i.default),c&&e.add("solved",c,t.topic_accepted_answer&&!t.accepted_answer?{before:n,after:o}:{before:["assign",s]})})}(e),function(e){const t=async(e,t)=>{const s=e.model
s&&s.setAcceptedSolution(t.accepted_answer)}
e.registerCustomPostMessageCallback("accepted_solution",t),e.registerCustomPostMessageCallback("unaccepted_solution",t)}(e),e.addDiscoveryQueryParam&&e.addDiscoveryQueryParam("solved",{replace:!0,refreshModel:!0}),e.modifyClass("model:topic",e=>class extends e{static{dt7948.g(this.prototype,"accepted_answer",[s.tracked])}#r=void dt7948.i(this,"accepted_answer")
static{dt7948.g(this.prototype,"has_accepted_answer",[s.tracked])}#a=void dt7948.i(this,"has_accepted_answer")
setAcceptedSolution(e){this.postStream?.posts?.forEach(t=>{e?t.post_number>1&&t.setProperties(e.post_number===t.post_number?{accepted_answer:!0,topic_accepted_answer:!0}:{accepted_answer:!1,topic_accepted_answer:!0}):t.setProperties({accepted_answer:!1,topic_accepted_answer:!1})}),this.accepted_answer=e,this.has_accepted_answer=!!e}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"extend-for-solved-button",initialize(){(0,o.withPluginApi)(l),(0,o.withPluginApi)(e=>{e.replaceIcon("notification.solved.accepted_notification","square-check")}),(0,o.withPluginApi)(e=>{e.addAdvancedSearchOptions({statusOptions:[{name:(0,n.i18n)("search.advanced.statuses.solved"),value:"solved"},{name:(0,n.i18n)("search.advanced.statuses.unsolved"),value:"unsolved"}]})}),(0,o.withPluginApi)(e=>{e.addSearchSuggestion("status:solved"),e.addSearchSuggestion("status:unsolved")})}}}),define("discourse/plugins/discourse-solved/discourse/initializers/solved-admin-plugin-configuration-nav",["exports","discourse/lib/plugin-api"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"solved-admin-plugin-configuration-nav",initialize(e){const s=e.lookup("service:current-user")
s?.admin&&(0,t.withPluginApi)(e=>{e.setAdminPluginIcon("discourse-solved","far-square-check")})}}}),define("discourse/plugins/discourse-solved/discourse/initializers/solved-category-change-confirmation",["exports","@ember/object","discourse/lib/plugin-api","discourse/models/category","discourse/plugins/discourse-solved/discourse/components/modal/category-change-solved-confirmation"],function(e,t,s,o,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i="discourse-solved-hide-category-change-confirmation"
e.default={name:"solved-category-change-confirmation",initialize(){(0,s.withPluginApi)(e=>{e.modifyClass("controller:topic",e=>class extends e{async finishedEditingTopic(){if(!this.editingTopic)return
let e=e=>o.default.findById(e)?.enable_accepted_answers
const t=this.get("buffered.buffer")
let s=!1
if(void 0!==t.category_id&&!this.siteSettings.allow_solved_on_all_topics){const o=e(this.model.category_id),c=e(t.category_id)
if(s=o!==c,this.model.accepted_answer&&o&&!c){if("true"!==localStorage.getItem(i)){const e=await this.modal.show(n.default)
if(!e?.confirmed)return
e.dontShowAgain&&localStorage.setItem(i,"true")}}}await super.finishedEditingTopic(),s&&this.model.postStream.refresh({forceLoad:!0})}static{dt7948.n(this.prototype,"finishedEditingTopic",[t.action])}})})}}}),define("discourse/plugins/discourse-solved/discourse/pre-initializers/extend-category-for-solved",["exports","@ember/object","discourse/models/category"],function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"extend-category-for-solved",before:"inject-discourse-objects",initialize(){s.default.reopen({enable_accepted_answers:(0,t.computed)("custom_fields.enable_accepted_answers",{get(e){return"true"===(0,t.get)(this.custom_fields,e)}})})}}}),define("discourse/plugins/discourse-solved/discourse/pre-initializers/solved-move-confirmation",["exports","discourse/components/modal/move-to-topic","discourse/lib/plugin-api","discourse/plugins/discourse-solved/discourse/components/modal/move-solution-confirmation"],function(e,t,s,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n="discourse-solved-hide-move-confirmation"
e.default={name:"solved-move-confirmation",before:"inject-discourse-objects",initialize(){(0,s.withPluginApi)(e=>{e.modifyClass("service:modal",{pluginId:"discourse-solved",_solvedOriginalShow:null,async show(e,s){this._solvedOriginalShow||(this._solvedOriginalShow=this._super.bind(this))
const i=this._solvedOriginalShow
if(e===t.default&&s?.model?.selectedPosts){const e=s.model.selectedPosts,t=e?.some(e=>e.accepted_answer)
if(t){if(!("true"===localStorage.getItem(n))){const t=await i(o.default,{model:{count:e.length}})
if(!t?.confirmed)return
t.dontShowAgain&&localStorage.setItem(n,"true")}}}return i(e,s)}})})}}}),define("discourse/plugins/discourse-solved/discourse/routes/user-activity/solved",["exports","@glimmer/tracking","@ember/object","@ember/service","rsvp","discourse/lib/ajax","discourse/routes/discourse","discourse-i18n"],function(e,t,s,o,n,i,c,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a{static{dt7948.g(this.prototype,"content",[t.tracked],function(){return[]})}#d=void dt7948.i(this,"content")
static{dt7948.g(this.prototype,"loading",[t.tracked],function(){return!1})}#l=void dt7948.i(this,"loading")
static{dt7948.g(this.prototype,"loaded",[t.tracked],function(){return!1})}#u=void dt7948.i(this,"loaded")
static{dt7948.g(this.prototype,"itemsLoaded",[t.tracked],function(){return 0})}#p=void dt7948.i(this,"itemsLoaded")
static{dt7948.g(this.prototype,"canLoadMore",[t.tracked],function(){return!0})}#m=void dt7948.i(this,"canLoadMore")
constructor({username:e,siteCategories:t}){this.username=e,this.siteCategories=t}get noContent(){return this.loaded&&0===this.content.length}findItems(){if(this.loading||!this.canLoadMore)return n.Promise.resolve()
this.loading=!0
return(0,i.ajax)(`/solution/by_user.json?username=${this.username}&offset=${this.itemsLoaded}&limit=20`).then(e=>{const t=e.user_solved_posts||[]
if(0===t.length)return void(this.canLoadMore=!1)
const o=t.map(e=>{const t=s.default.create(e)
return t.set("titleHtml",t.topic_title),t.set("postUrl",t.url),t.category_id&&this.siteCategories&&t.set("category",this.siteCategories.find(e=>e.id===t.category_id)),t})
this.content=[...this.content,...o],this.itemsLoaded=this.itemsLoaded+t.length,t.length<20&&(this.canLoadMore=!1)}).finally(()=>{this.loaded=!0,this.loading=!1})}}class d extends c.default{static{dt7948.g(this.prototype,"site",[o.service])}#h=void dt7948.i(this,"site")
static{dt7948.g(this.prototype,"currentUser",[o.service])}#s=void dt7948.i(this,"currentUser")
model(){const e=this.modelFor("user"),t=new a({username:e.username,siteCategories:this.site.categories})
return t.findItems().then(()=>({stream:t,emptyState:this.emptyState()}))}setupController(e,t){e.setProperties({model:t,emptyState:this.emptyState()})}renderTemplate(){this.render("user-activity-solved")}emptyState(){const e=this.modelFor("user")
let t,s
return this.currentUser&&e.id===this.currentUser.id?(t=(0,r.i18n)("solved.no_solved_topics_title"),s=(0,r.i18n)("solved.no_solved_topics_body")):(t=(0,r.i18n)("solved.no_solved_topics_title_others",{username:e.username}),s=""),{title:t,body:s}}}e.default=d}),define("discourse/plugins/discourse-solved/discourse/solved-route-map",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"user.userActivity",map(){this.route("solved")}}}),define("discourse/plugins/discourse-solved/discourse/templates/user-activity/solved",["exports","discourse/components/empty-state","discourse/components/user-stream","@ember/component","@ember/template-factory","@ember/component/template-only"],function(e,t,s,o,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,o.setComponentTemplate)((0,n.createTemplateFactory)({id:"0oNgyAaE",block:'[[[41,[30,1,["model","stream","noContent"]],[[[1,"  "],[8,[32,0],null,[["@title","@body"],[[30,1,["model","emptyState","title"]],[30,1,["model","emptyState","body"]]]],null],[1,"\\n"]],[]],[[[1,"  "],[8,[32,1],null,[["@stream"],[[30,1,["model","stream"]]]],null],[1,"\\n"]],[]]]],["@controller"],["if"]]',moduleName:"/var/www/discourse/frontend/discourse/discourse/plugins/discourse-solved/discourse/templates/user-activity/solved.js",scope:()=>[t.default,s.default],isStrictMode:!0}),(0,i.default)(void 0,"solved"))})

//# sourceMappingURL=discourse-solved-80824b53.map